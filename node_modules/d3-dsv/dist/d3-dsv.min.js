// https://d3js.org/d3-dsv/ v2.0.0 Copyright 2020 Mike Bostock
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t=t||self).d3=t.d3||{})}(this,function(t){"use strict";var r={},e={},n=34,o=10,a=13;function u(t){return new Function("d","return {"+t.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function f(t){var r=Object.create(null),e=[];return t.forEach(function(t){for(var n in t)n in r||e.push(r[n]=n)}),e}function i(t,r){var e=t+"",n=e.length;return n<r?new Array(r-n+1).join(0)+e:e}function s(t){var r,e=t.getUTCHours(),n=t.getUTCMinutes(),o=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((r=t.getUTCFullYear())<0?"-"+i(-r,6):r>9999?"+"+i(r,6):i(r,4))+"-"+i(t.getUTCMonth()+1,2)+"-"+i(t.getUTCDate(),2)+(a?"T"+i(e,2)+":"+i(n,2)+":"+i(o,2)+"."+i(a,3)+"Z":o?"T"+i(e,2)+":"+i(n,2)+":"+i(o,2)+"Z":n||e?"T"+i(e,2)+":"+i(n,2)+"Z":"")}function c(t){var i=new RegExp('["'+t+"\n\r]"),c=t.charCodeAt(0);function l(t,u){var f,i=[],s=t.length,l=0,d=0,m=s<=0,v=!1;function p(){if(m)return e;if(v)return v=!1,r;var u,f,i=l;if(t.charCodeAt(i)===n){for(;l++<s&&t.charCodeAt(l)!==n||t.charCodeAt(++l)===n;);return(u=l)>=s?m=!0:(f=t.charCodeAt(l++))===o?v=!0:f===a&&(v=!0,t.charCodeAt(l)===o&&++l),t.slice(i+1,u-1).replace(/""/g,'"')}for(;l<s;){if((f=t.charCodeAt(u=l++))===o)v=!0;else if(f===a)v=!0,t.charCodeAt(l)===o&&++l;else if(f!==c)continue;return t.slice(i,u)}return m=!0,t.slice(i,s)}for(t.charCodeAt(s-1)===o&&--s,t.charCodeAt(s-1)===a&&--s;(f=p())!==e;){for(var w=[];f!==r&&f!==e;)w.push(f),f=p();u&&null==(w=u(w,d++))||i.push(w)}return i}function d(r,e){return r.map(function(r){return e.map(function(t){return v(r[t])}).join(t)})}function m(r){return r.map(v).join(t)}function v(t){return null==t?"":t instanceof Date?s(t):i.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,r){var e,n,o=l(t,function(t,o){if(e)return e(t,o-1);n=t,e=r?function(t,r){var e=u(t);return function(n,o){return r(e(n),o,t)}}(t,r):u(t)});return o.columns=n||[],o},parseRows:l,format:function(r,e){return null==e&&(e=f(r)),[e.map(v).join(t)].concat(d(r,e)).join("\n")},formatBody:function(t,r){return null==r&&(r=f(t)),d(t,r).join("\n")},formatRows:function(t){return t.map(m).join("\n")},formatRow:m,formatValue:v}}var l=c(","),d=l.parse,m=l.parseRows,v=l.format,p=l.formatBody,w=l.formatRows,h=l.formatRow,C=l.formatValue,g=c("\t"),R=g.parse,T=g.parseRows,F=g.format,y=g.formatBody,j=g.formatRows,A=g.formatRow,N=g.formatValue;const U=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();t.autoType=function(t){for(var r in t){var e,n,o=t[r].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(e=+o)){if(!(n=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;U&&n[4]&&!n[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=e;else o=null;t[r]=o}return t},t.csvFormat=v,t.csvFormatBody=p,t.csvFormatRow=h,t.csvFormatRows=w,t.csvFormatValue=C,t.csvParse=d,t.csvParseRows=m,t.dsvFormat=c,t.tsvFormat=F,t.tsvFormatBody=y,t.tsvFormatRow=A,t.tsvFormatRows=j,t.tsvFormatValue=N,t.tsvParse=R,t.tsvParseRows=T,Object.defineProperty(t,"__esModule",{value:!0})});
